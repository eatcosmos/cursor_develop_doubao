/*! For license information please see popup.js.LICENSE.txt */
var e,t={95574:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(11855),r=n(81493),s=n(29019),o=n.n(s),i=(n(18200),function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n});const l=a.forwardRef(((e,t)=>{const{svg:n,spin:s=!1,rotate:l,style:c,className:u,prefixCls:d=r._,type:h,size:f="default"}=e,p=i(e,["svg","spin","rotate","style","className","prefixCls","type","size"]),m=o()(`${d}-icon`,{[`${d}-icon-extra-small`]:"extra-small"===f,[`${d}-icon-small`]:"small"===f,[`${d}-icon-default`]:"default"===f,[`${d}-icon-large`]:"large"===f,[`${d}-icon-extra-large`]:"extra-large"===f,[`${d}-icon-spinning`]:!0===s,[`${d}-icon-${h}`]:Boolean(h)},u),g={};return Number.isSafeInteger(l)&&(g.transform=`rotate(${l}deg)`),Object.assign(g,c),a.createElement("span",Object.assign({role:"img",ref:t,"aria-label":h,className:m,style:g},p),n)}));l.elementType="Icon";const c=l},44969:(e,t,n)=>{n.d(t,{EP:()=>r,LN:()=>i,R3:()=>s,Zn:()=>o});const a="/browser-extension",r=`${a}/login`,s="doubao",o="en-GB",i="en"},76360:(e,t,n)=>{n.d(t,{L2:()=>o,Nf:()=>l,e6:()=>i});var a,r,s=n(14065);null===(a=globalThis.chrome)||void 0===a||a.runtime,null===(r=globalThis.chrome)||void 0===r||r.tabs;const o=()=>"\u8c46\u5305",i=function(){var e=(0,s.A)((function*(){try{const e=yield chrome.tabs.query({active:!0,currentWindow:!0});return e.length?e[0]:null}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),l=()=>chrome.runtime.getURL("assets/icon.png")},47730:(e,t,n)=>{n.d(t,{Y:()=>s});var a=n(4297),r=n(77591);const s=e=>(0,a.r)(e,(0,r.TK)(e))},4297:(e,t,n)=>{n.d(t,{r:()=>l});var a=n(14065),r=n(20716),s=n(11855),o=n(67593),i=n(29988);const l=(e,t)=>{const n="object"==typeof e,l=n?e.key:e,[c,u]=(0,s.useState)(t),d=(0,s.useRef)(!1),h=(0,s.useRef)(t instanceof Function?t():t);(0,s.useEffect)((()=>{h.current=c}),[c]);const f=(0,s.useRef)(n?e.instance:new o.w({area:i.q})),p=(0,s.useCallback)((e=>f.current.set(l,void 0!==e?e:h.current)),[l]),m=(0,s.useCallback)(function(){var e=(0,a.A)((function*(e){const t=e instanceof Function?e(h.current):e;yield p(t),d.current&&u(t)}));return function(t){return e.apply(this,arguments)}}(),[p]);(0,s.useEffect)((()=>{var e;d.current=!0;const n={[l]:e=>{d.current&&u(e.newValue)}};return f.current.watch(n),null===(e=f.current.get(l))||void 0===e||e.then((e=>{if(t instanceof Function){const n=null==t?void 0:t(e,!0);void 0!==n&&m(n)}else(0,r.A)(e,t)||u(void 0!==e?e:t)})),()=>{d.current=!1,f.current.unwatch(n),t instanceof Function&&u(t)}}),[l,m]);const g=(0,s.useCallback)((()=>{f.current.remove(l),u(void 0)}),[l]);return[c,m,{setRenderValue:u,setStoreValue:p,remove:g}]}},24337:(e,t,n)=>{n.d(t,{Rm:()=>a,z3:()=>r});const a=(...e)=>{},r=(...e)=>{}},75882:(e,t,n)=>{n.d(t,{c:()=>l});var a=n(14065),r=n(10633),s=n(91689),o=n(24337);const i=new class{constructor(){var e,t;(0,r.A)(this,"handlers",{}),(0,r.A)(this,"interceptors",[]),null===(e=chrome)||void 0===e||null===(e=e.runtime)||void 0===e||null===(e=e.onMessage)||void 0===e||null===(t=e.addListener)||void 0===t||t.call(e,this.onMessage.bind(this)),this.interceptors=[],this.handlers={}}onMessage(e,t,n){let r=!1;this.interceptors.forEach((a=>{r=r||Boolean(a.onMessage(e,t,n))}));const s=this.handlers[e.name];var i;return(0,o.Rm)(`[runtime] onMessage -> [${e.name}][${s?"yes":"no"}] `,e.body||""),!!s&&(!s.preCheck||null!==(i=s.preCheck)&&void 0!==i&&i.call(s,t)?((0,a.A)((function*(){try{const a=yield s.handle(e.body,t);n(a)}catch(a){n({__hasError:!0,errorMessage:`${a.message}[${e.name}]`})}}))(),!0):r)}supportExternal(){var e,t;null===(e=chrome)||void 0===e||null===(e=e.runtime)||void 0===e||null===(e=e.onMessageExternal)||void 0===e||null===(t=e.addListener)||void 0===t||t.call(e,this.onMessage.bind(this))}register(e){const{name:t}=e||{};t&&(this.handlers[t]&&(0,o.z3)(`[runtime] handler name[${t}] duplicated !`),(0,o.Rm)(`[runtime] register handler for event: [${t}]`),this.handlers[t]=e)}unregister(e){delete this.handlers[e]}injectInterceptor(e){this.interceptors.push(e)}destroy(){this.handlers={},this.interceptors=[];try{chrome.runtime.onMessage.removeListener(this.onMessage)}catch(e){}}},l=e=>{const t=(0,s.A)(e)?e:[e];return t.forEach((e=>{i.register(e)})),()=>{t.forEach((e=>{i.unregister(e.name)}))}}},81057:(e,t,n)=>{n.d(t,{K:()=>l});var a=n(58311),r=n(35625),s=n(5081),o=n(16029);let i=null;const l=e=>(i||(e===o.xb.CN&&(i=s.Ay),e===o.xb.MALIVA&&(i=r.Ay),e===o.xb.SG&&(i=a.Ay)),i)},96638:(e,t,n)=>{n.d(t,{HO:()=>f,Hh:()=>v,I8:()=>x,WN:()=>y,fS:()=>w});var a="pronounce",r="explain",s="translate",o="summarize",i="grammar",l="rewrite",c="browser_ask",u="copy",d="collect",h="adjust_skill";[{cnName:"\u200b\u4e2d\u6587\u200b",enName:"Chinese\u200b",name:"\u4e2d\u6587",lang:"zh"},{cnName:"\u82f1\u6587\u200b",enName:"English\u200b",name:"English",lang:"en"},{cnName:"\u65e5\u8bed\u200b",enName:"Japanese\u200b",name:"\u65e5\u672c\u8a9e",lang:"ja"},{cnName:"\u97e9\u8bed\u200b",enName:"Korean\u200b",name:"\ud55c\uad6d\uc5b4",lang:"ko"},{cnName:"\u6cd5\u8bed\u200b",enName:"French\u200b",name:"Fran\xe7ais",lang:"fr"},{cnName:"\u5fb7\u8bed\u200b",enName:"German\u200b",name:"Deutsch",lang:"de"},{cnName:"\u897f\u73ed\u7259\u8bed\u200b",enName:"Spanish\u200b",name:"Espa\xf1ol",lang:"es"},{cnName:"\u4fc4\u8bed\u200b",enName:"Russian\u200b",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",lang:"ru"},{cnName:"\u610f\u5927\u5229\u8bed\u200b",enName:"Italian\u200b",name:"Italiano",lang:"it"},{cnName:"\u8461\u8404\u7259\u8bed\u200b",enName:"Portuguese\u200b",name:"Portugu\xeas",lang:"pt"},{cnName:"\u8377\u5170\u8bed\u200b",enName:"Dutch\u200b",name:"Nederlands",lang:"nl"},{cnName:"\u745e\u5178\u8bed\u200b",enName:"Swedish\u200b",name:"Svenska",lang:"sv"},{cnName:"\u4e39\u9ea6\u8bed\u200b",enName:"Danish\u200b",name:"Dansk",lang:"da"},{cnName:"\u632a\u5a01\u8bed\u200b",enName:"Norwegian\u200b",name:"Norsk",lang:"no"},{cnName:"\u6ce2\u5170\u8bed\u200b",enName:"Polish\u200b",name:"Polski",lang:"pl"},{cnName:"\u5e0c\u814a\u8bed\u200b",enName:"Greek\u200b",name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",lang:"el"},{cnName:"\u571f\u8033\u5176\u8bed\u200b",enName:"Turkish\u200b",name:"T\xfcrk\xe7e",lang:"tr"},{cnName:"\u8d8a\u5357\u8bed\u200b",enName:"Vietlangse\u200b",name:"Ti\u1ebfng Vi\u1ec7t",lang:"vi"},{cnName:"\u6cf0\u8bed\u200b",enName:"Thai\u200b",name:"\u0e44\u0e17\u0e22",lang:"th"},{cnName:"\u5370\u5730\u8bed\u200b",enName:"Hindi\u200b",name:"\u0939\u093f\u0928\u094d\u0926\u0940\u200b",lang:"hi"}].reduce(((e,t)=>(e[t.lang]=t.name,e)),{});const f=[{id:c,prompt:"",name:"flow_web_ext_action_ask",icon:"searchAI"},{id:r,prompt:"\u89e3\u91ca\u8fd9\u6bb5\u6587\u672c: \n\u201d\u201d\u201d\n$[text]\n\u201d\u201d\u201d",name:"flow_web_ext_action_explain",icon:"explain"},{id:s,prompt:"\u628a\u4e0b\u9762\u8fd9\u6bb5\u6587\u672c\u7ffb\u8bd1\u6210\u76ee\u6807\u8bed\u8a00: $[lang]\u3002\u9700\u8981\u7ffb\u8bd1\u7684\u5185\u5bb9\u662f: \n\u201d\u201d\u201d\n$[text]\n\u201d\u201d\u201d",name:"flow_web_ext_action_translate",icon:"IconTranslateOutline"},{id:a,prompt:"",name:"\u6717\u8bfb",icon:"IconPlayAudio"},{id:o,prompt:"\u603b\u7ed3\u4ee5\u4e0b\u5185\u5bb9: \n\u201d\u201d\u201d\n$[text]\n\u201d\u201d\u201d",name:"flow_web_ext_action_summarize",icon:"summarize"},{id:i,prompt:"\u6821\u5bf9\u5e76\u7ea0\u6b63\u8fd9\u6bb5\u6587\u5b57: \n\u201d\u201d\u201d\n$[text]\n\u201d\u201d\u201d",name:"flow_web_ext_action_grammar",icon:"check"},{id:h,prompt:"\u91cd\u65b0\u8868\u8ff0\u8fd9\u6bb5\u6587\u5b57, \u4f7f\u8fd9\u6bb5\u6587\u5b57\u8868\u8ff0\u7684\u66f4\u52a0\u5408\u7406: \n\u201d\u201d\u201d\n$[text]\n\u201d\u201d\u201d",name:"modify_change_tone",icon:"adjust_skill"},{id:u,prompt:"",name:"message_long_press_copy",icon:"copy"},{id:d,prompt:"",name:"flow_web_ext_action_bookmarks",icon:"collect",options:{brand:"\u8c46\u5305"}}],p=(new Set([c]),[r,s,a,d]),m=[u],g=new Set([o]),v=(e=[])=>f.filter((t=>p.includes(t.id)&&!g.has(t.id)&&!e.includes(t.id))),y=(e=[])=>f.filter((t=>m.includes(t.id)&&!g.has(t.id)&&!e.includes(t.id))),b=[i,l,d,a,h],_=[r,s,u],x=(e=[])=>f.filter((t=>b.includes(t.id)&&!g.has(t.id)&&!e.includes(t.id))),w=(e=[])=>f.filter((t=>_.includes(t.id)&&!g.has(t.id)&&!e.includes(t.id)));f.reduce(((e,t)=>(e[t.id]=t,e)),{})},64123:(e,t,n)=>{n.d(t,{ZV:()=>i});var a=n(7685),r=n.n(a),s=n(4252);const o=(()=>{let e=null;return()=>(null===e&&(e="macos"===r().getParser(navigator.userAgent).getOSName(!0)),e)})();function i(e){const t=o();switch(e){case s.e.OpenSide:return t?`${l.Command}+K`:`${l.Ctrl}+K`;case s.e.TranslatePage:return t?`${l.Option}+1`:`${l.Alt}+1`;case s.e.ReadPage:return t?`${l.Option}+2`:`${l.Alt}+2`;case s.e.HoverTextTranslate:return t?`${l.Command}`:`${l.Ctrl}`;case s.e.ScreenCapture:return t?`${l.Option}+3`:`${l.Alt}+3`;case s.e.CollectPage:return t?`${l.Option}+4`:`${l.Alt}+4`;case s.e.TTSReadPage:return t?`${l.Option}+5`:`${l.Alt}+5`;case s.e.VoiceInput:return"B";case s.e.BilingualSubtitles:return"H";default:return""}}let l=function(e){return e.Command="Command",e.Windows="Windows",e.Ctrl="Ctrl",e.Alt="Alt",e.Option="Option",e.Shift="Shift",e}({});let c=function(e){return e.Command="Command",e.Option="Option",e}({});c.Command,l.Command,l.Ctrl,c.Option,l.Option,l.Alt},77591:(e,t,n)=>{n.d(t,{TK:()=>C,vE:()=>j});var a,r=n(44557),s=n(97724),o=n(39415),i=n(88090),l=(n(87648),n(31826)),c=n(59186),u=n(53262),d=n(98801),h=n(10242),f=n(96638),p=n(44969),m=n(41753),g=n(29988),v=n(58980),y=n(12710);const b=(0,u.c)();let _=(0,i.wz)(b);_===p.Zn&&(_=p.LN);let x=b;x===p.Zn&&(x=p.LN);const w={vocabruaryDisableAll:!0,vocabruaryDisableHosts:[],vocabruaryHighlightColor:y.Bx[4][0],vocabruaryOnboarding:!0,videoSubtitleDisableAll:!1,videoSubtitleDisableHosts:[],videoImmersionDisableAll:!1,videoImmersionDisableHosts:[],videoSummaryDisableAll:!1,videoMemoDisableAll:!1,videoMemoDisableHosts:[],videoSummaryDisableHosts:[],podcastSummaryDisableAll:!1,podcastSummaryDisableHosts:[],chatFloatCardDisableAll:!1,chatFloatCardDisableHosts:[],sidebarButtonDisabledAll:!1,sidebarButtonDisabledHosts:[],searchDisabledAll:!1,searchDisabledHosts:[],disableSearchAddonsGlobal:!0,disableSearchAddonsHosts:[],autoTranslatePageHosts:[],disableGlobalGrammar:!(0,o.UP)(),disableGrammarHosts:[],InputAssistantDisabledAll:!1,InputAssistantDisabledHosts:[],replyAssistantDisabledAll:!1,replyAssistantDisabledHosts:[],sidebarButtonTop:.5,sidebarButtonPosition:"right",inputAssistantLang:"zh",quickDisabledAll:!1,quickDisabledHosts:[],translateLanguage:_,autoTranslateSubtitles:!0,subtitleTranslateLang:"system",selectBarOnlyIcon:!1,pageTranslateService:v.c$.MICROSOFT,selectTranslateService:v.c$.DOUBAO,pageTranslateShowUnderline:!1,linkPreviewDisabledAll:!1,linkPreviewDisabledHosts:[],hoverTranslateSetting:v.X0.NO_TRANSLATE,inputTranslateInfo:{isFirstUse:!0,language:"en",showInputInnerTips:!0,translateService:v.c$.HUOSHAN,hotKeyCode:v.WR.Space,disableAll:!0},readingPopupActions:{actionList:(0,f.Hh)(),moreActionList:(0,f.WN)()},editingPopupActions:{actionList:(0,f.I8)(),moreActionList:(0,f.fS)()},transPreferConfig:{tipShown:!1,langMap:{}},collectImageDisabledAll:!1,collectImageDisabledHosts:[],socialWebcollectDisabledAll:!1,mediaCardTranslateLanguage:x,readWebPageCtxConfig:{enabled:!0,hasWebPageContextDialogShow:!0,hasUserSwitched:!1}},A=(Object.keys(w),(0,r.A)((0,r.A)({},w),{},{uuid:"",installReason:"",synced:!1,authInfo:{isAuthenticated:!1},launchInfo:{},launchConfig:{},abTestValue:{},chatInfo:{},debugInfo:{isEnableDebug:!1,webEnv:"",extEnv:""},requestCommonParams:{},shortcutsConfig:h.A,actions:f.HO,themeMode:v.lG.AUTO,uiLanguage:b,voiceSpeaker:c.F,sidePanelEnabled:!0,hostId:"",PopupListMaxCount:4,onboardingActionRecord:(0,l.wG)(),isSelectbarMoreMenuClicked:!1,needOpenSideBar:!1,featureInfo:null,collectionConfig:(0,m.i)(),tabConversationMap:{},isHistoryChatsClicked:!1,appSettings:d.K,overseaAccessibility:{},doubaoNoticeKey:"",searchUsageTimesInfo:{},voiceSettingTipShown:!1,isArc:!1,dismissUpdateKey:"",navigatorLanguage:(null===(a=navigator)||void 0===a?void 0:a.language)||"",voiceInputShortcutTipShown:!1}));const S=(e,t,n=!1)=>{const a=A[e];return A[e]=n?(0,s.A)(a,t):t,g.A.set(e,A[e])},j=S;function C(e){return A[e]}},29988:(e,t,n)=>{n.d(t,{A:()=>s,q:()=>r});var a=n(67593);const r="local",s=new a.w({area:r})},87648:(e,t,n)=>{n(29988)},75943:(e,t,n)=>{n.d(t,{A:()=>c});var a,r=n(10633),s=n(77591),o=n(24337),i=n(44969);class l{static getInstance(){return l._instance}init(){void 0===this._hostId&&(this._hostId=(0,s.TK)("hostId"),this._listenBrandInfoMessage(),this._listenStoreMessage(),this._sendHostIdMessage(),this._sendBrandInfo(),this._listenHostIdMessage())}registerRecyclable(e){this._recyclables.push(e)}registerRecyclables(e){e.forEach((e=>{e&&this._recyclables.push(e)}))}registerStore(e,t){this._stores.set(e,t)}getHostId(){return this._hostId}constructor(){(0,r.A)(this,"_recyclables",[]),(0,r.A)(this,"_stores",new Map),(0,r.A)(this,"_hostId",void 0),(0,r.A)(this,"_listenHostIdMessage",(()=>{window.addEventListener("message",this._hostIdMessageHandler)})),(0,r.A)(this,"_listenStoreMessage",(()=>{window.addEventListener("message",this._storeMessageHandler)})),(0,r.A)(this,"_listenBrandInfoMessage",(()=>{window.addEventListener("message",this._brandInfoMessageHandler)})),(0,r.A)(this,"_hostIdMessageHandler",(e=>{var t,n,a,r;void 0!==(null==e||null===(t=e.data)||void 0===t?void 0:t.brand)&&(null==e||null===(n=e.data)||void 0===n?void 0:n.brand)!==i.R3||void 0!==(null==e||null===(a=e.data)||void 0===a?void 0:a.hostId)&&(null==e||null===(r=e.data)||void 0===r?void 0:r.hostId)!==this._hostId&&(window.removeEventListener("message",this._hostIdMessageHandler),this._destory())})),(0,r.A)(this,"_brandInfoMessageHandler",(e=>{var t;null!=e&&null!==(t=e.data)&&void 0!==t&&null!==(t=t.extensionReq)&&void 0!==t&&t.requireExtensionInfo&&this._sendBrandInfo(e.origin)})),(0,r.A)(this,"_storeMessageHandler",(e=>{var t,n,a;if(void 0!==(null==e||null===(t=e.data)||void 0===t?void 0:t.brand)&&(null==e||null===(n=e.data)||void 0===n?void 0:n.brand)!==i.R3)return;if(void 0===(null==e||null===(a=e.data)||void 0===a?void 0:a.storeData))return;const r=JSON.parse(e.data.storeData);Object.keys(r).forEach((e=>{const t=this._stores.get(e);t&&t.setState(JSON.parse(r[e]))}))})),(0,r.A)(this,"_sendStoreData",(()=>{const e={};this._stores.forEach(((t,n)=>{e[n]=JSON.stringify(t.getState())}));const t=JSON.stringify(e);window.postMessage({storeData:t}),this._stores.clear()}))}_sendHostIdMessage(){window.postMessage({hostId:this._hostId,brand:i.R3})}_sendBrandInfo(e="*"){const t={brandName:i.R3,version:chrome.runtime.getManifest().version};window.postMessage({extensionRes:t},e)}_destory(){window.removeEventListener("message",this._storeMessageHandler),window.removeEventListener("message",this._brandInfoMessageHandler),this._sendStoreData(),this._recyclables.forEach((e=>{try{"function"==typeof e?e():"function"==typeof(null==e?void 0:e.destory)&&e.destory()}catch(t){(0,o.z3)({message:"\u6267\u884cdestroy\u5931\u8d25",error:t})}})),this._recyclables=[]}}function c(e){l.getInstance().registerRecyclable(e)}a=l,(0,r.A)(l,"_instance",new a)},12710:(e,t,n)=>{n.d(t,{Bx:()=>a});const a=[["rgba(183, 201, 255, 0.44)","rgba(164, 186, 254, 0.44)"],["rgba(215, 160, 255, 0.44)","rgba(199, 126, 250, 0.44)"],["rgba(255, 201, 126, 0.44)","rgba(248, 191, 111, 0.44)"],["rgba(204, 255, 86, 0.44)","rgba(189, 243, 61, 0.44)"],["rgba(251, 255, 20, 0.44)","rgba(251, 255, 30, 0.44)"]]},21419:(e,t,n)=>{var a=n(44557),r=n(14065),s=n(75541),o=n(57214),i=n(29019),l=n.n(i),c=n(11855);const u="popup_section-GfYuVI",d="hover-R90K1J",h="icon-yPANVJ",f="text_content-xS0eyI",p="active-iEiXVD",m="divider_wrapper-GatHaY",g="divider-fSR7jk",v="setting-ziG9I_";var y=n(63159);const b=e=>{const{icon:t,textContent:n,onClick:a,setting:r,activated:s=!1}=e,{settingRef:o,hover:i,handleMouseEnterSection:b,handleMouseLeaveSection:_,handleMouseEnterSetting:x,handleClickSection:w}=(e=>{const t=(0,c.useRef)(null),[n,a]=(0,c.useState)(!1);return{settingRef:t,hover:n,handleMouseEnterSection:()=>{a(!0)},handleMouseLeaveSection:()=>{a(!1)},handleMouseEnterSetting:()=>{a(!1)},handleClickSection:n=>{var a;null!==(a=t.current)&&void 0!==a&&a.contains(n.target)||e()}}})(a);return(0,y.jsxs)("div",{className:l()({[u]:!0,[d]:i}),onClick:w,onMouseEnter:b,onMouseLeave:_,children:[(0,y.jsx)("div",{className:h,children:t}),(0,y.jsx)("div",{className:l()({[f]:!0,[p]:s}),children:n}),r&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:m,children:(0,y.jsx)("div",{className:g})}),(0,y.jsx)("div",{ref:o,className:v,onMouseEnter:x,children:r})]})]})};var _=n(10633),x=n(94654);const w=n(86296),A="TRANSLATE_PAGE",S=e=>new Promise((t=>setTimeout(t,e)));var j=n(24337);chrome.runtime.Port;let C=function(e){return e.EXT="EXTENSION",e.PAGE="WEB_PAGE",e}({});const E="CICI_X_EVENT_CHANNEL";const O=new class{constructor(){var e=this;(0,_.A)(this,"xeeId",(0,x.A)()),(0,_.A)(this,"ee",new w),(0,_.A)(this,"port",void 0),(0,_.A)(this,"onMsgCallbackMap",new Map),(0,_.A)(this,"getPortWithRetry",function(){var t=(0,r.A)((function*(t){let n=3;for(;n>0;){const a=yield e.getPort(t);if(a)return a;yield S(2e3),n-=1}return null}));return function(e){return t.apply(this,arguments)}}()),(0,_.A)(this,"getPort",function(){var t=(0,r.A)((function*(t){if(e.port)return e.port;if(t===C.EXT){const t=yield e.createMsgPortByExt();if(t)return e.port=t,e.listen(),e.port}return null}));return function(e){return t.apply(this,arguments)}}()),(0,_.A)(this,"testConnection",function(){var t=(0,r.A)((function*(t){const n=new Promise((n=>{const a=e.makeMsg("PING",e.xeeId);t.postMessage(a),t.onMessage.addListener((t=>{var a;"PONG"===t.name&&(null==t||null===(a=t.params)||void 0===a?void 0:a[0])===e.xeeId&&n(!0)}))})),a=new Promise((e=>{setTimeout((()=>{e(!1)}),3e3)}));return Promise.race([n,a])}));return function(e){return t.apply(this,arguments)}}()),(0,_.A)(this,"createMsgPortByExt",(0,r.A)((function*(){const t=yield e.getCurrentTabId();if(!t)return;const n=chrome.tabs.connect(t,{name:E});n.onDisconnect.addListener((()=>{window.close()}));return(yield e.testConnection(n))?n:null}))),(0,_.A)(this,"getCurrentTabId",(0,r.A)((function*(){return new Promise((e=>{chrome.tabs.query({active:!0,currentWindow:!0},(t=>{var n;const a=null===(n=t[0])||void 0===n?void 0:n.id;e(a)}))}))}))),(0,_.A)(this,"waitForConnection",(()=>{const e=e=>{e.name===E&&(this.port=e,this.listen())};chrome.runtime.onConnect.addListener(e),window.onbeforeunload=()=>{var t;chrome.runtime.onConnect.removeListener(e),null===(t=this.port)||void 0===t||t.disconnect()}})),(0,_.A)(this,"listen",(()=>{var e;null===(e=this.port)||void 0===e||e.onMessage.addListener((e=>{this.onMsgCallbackMap.forEach((t=>{t(e)}))}))})),(0,_.A)(this,"makeMsg",((e,...t)=>({name:e,params:(0,a.A)({},t)}))),(0,_.A)(this,"makeMsgCallback",((e,t)=>n=>{if(n.name===e){const e=Object.values(n.params);t(...e)}})),(0,_.A)(this,"on",((e,t,n)=>{this.ee.on(e,n);const a=(0,x.A)(),r=this.makeMsgCallback(e,n);return this.onMsgCallbackMap.set(a,r),()=>{this.ee.off(e,n),this.onMsgCallbackMap.delete(a)}})),(0,_.A)(this,"emit",function(){var t=(0,r.A)((function*(t,n,a){e.ee.emit(t,a);const r=yield e.getPortWithRetry(n);if(r){const n=e.makeMsg(t,a);r.postMessage(n)}else(0,j.z3)("NO PORT FOUND, OPEN POPUP TO CREATE ONE")}));return function(e,n,a){return t.apply(this,arguments)}}()),this.waitForConnection()}};var N=n(54528),I=n(47351),T=n(45041),P=n(59107),k=n(27398),R=n(70798),M=n(51405),L=n(79613),$=n(76360),D=n(89130),H=n(12508),B=n(34919),U=n(31442),V=n(93708),G=n(86617),K=n(70221),F=n(5960),W=n(67368),z=n(37730),q=n(21010),X=n(16593),Y=n(3341),J=n(55615),Q=n(98335),Z=n(63751),ee=n(90952),te=n(64390),ne=n(4045),ae=n(59799),re=n(34658),se=n(67455),oe=n(27040),ie=n(14089),le=n(24890),ce=n(30961),ue=n(21500),de=n(56317),he=n(52621),fe=n(77355),pe=n(27350),me=n(15440),ge=n(23396),ve=n(95633),ye=n(15238),be=n(40643),_e=n(10360),xe=n(31870),we=n(67310),Ae=n(61533),Se=n(74772),je=n(70279),Ce=n(36011),Ee=n(15652),Oe=n(56502),Ne=n(1519),Ie=n(48231),Te=n(81621),Pe=n(6862),ke=n(63904),Re=n(48158),Me=n(5169),Le=n(52669),$e=n(3040),De=n(50077),He=n(26517),Be=n(55941),Ue=n(63544),Ve=n(67397),Ge=n(96062),Ke=n(32574),Fe=n(96452),We=n(4501),ze=n(13217),qe=n(3225),Xe=n(5654),Ye=n(89488),Je=n(47792),Qe=n(75862),Ze=n(82787),et=n(93442),tt=n(26025),nt=n(67434),at=n(78802),rt=n(98554),st=n(22392),ot=n(66408),it=n(8237),lt=n(16367),ct=n(39007),ut=n(70873),dt=n(11007),ht=n(25568),ft=n(9335),pt=n(53012),mt=n(47494),gt=n(40549),vt=n(92852),yt=n(57810),bt=n(2668),_t=n(91985),xt=n(47251),wt=n(27834),At=n(28742),St=n(93313),jt=n(83112),Ct=n(63610),Et=n(95960),Ot=n(28434);const Nt=(0,M.a)((0,y.jsx)(Je.h,{})),It=((0,M.a)((0,y.jsx)(Xe.h,{})),(0,M.a)((0,y.jsx)(st.h,{})),(0,M.a)((0,y.jsx)(Ke.h,{})),(0,M.a)((0,y.jsx)(dt.h,{})),(0,M.a)((0,y.jsx)(ht.h,{})),(0,M.a)((0,y.jsx)(ut.h,{})),(0,M.a)((0,y.jsx)(ft.h,{})),(0,M.a)((0,y.jsx)(ke.h,{}))),Tt=((0,M.a)((0,y.jsx)(Ct.h,{})),(0,M.a)((0,y.jsx)(yt.h,{})),(0,M.a)((0,y.jsx)(Oe.h,{})),(0,M.a)((0,y.jsx)(Me.h,{})),(0,M.a)((0,y.jsx)(Pe.h,{}))),Pt=(0,M.a)((0,y.jsx)(je.h,{})),kt=(0,M.a)((0,y.jsx)(be.h,{})),Rt=(0,M.a)((0,y.jsx)(fe.h,{})),Mt=(0,M.a)((0,y.jsx)(J.h,{})),Lt=(0,M.a)((0,y.jsx)(X.h,{})),$t=(0,M.a)((0,y.jsx)(z.h,{})),Dt=(0,M.a)((0,y.jsx)(F.h,{})),Ht=(0,M.a)((0,y.jsx)(D.h,{})),Bt=(0,M.a)((0,y.jsx)(_e.h,{})),Ut=((0,M.a)((0,y.jsx)(we.h,{})),(0,M.a)((0,y.jsx)(Ae.h,{})),(0,M.a)((0,y.jsx)(q.h,{}))),Vt=(0,M.a)((0,y.jsx)(Se.h,{})),Gt=(0,M.a)((0,y.jsx)(le.h,{})),Kt=((0,M.a)((0,y.jsx)(te.h,{})),(0,M.a)((0,y.jsx)(Z.h,{}))),Ft=((0,M.a)((0,y.jsx)(ee.h,{})),(0,M.a)((0,y.jsx)(ve.h,{}))),Wt=(0,M.a)((0,y.jsx)(Ce.h,{})),zt=((0,M.a)((0,y.jsx)(ge.h,{})),(0,M.a)((0,y.jsx)(Ie.h,{}))),qt=(0,M.a)((0,y.jsx)(se.h,{})),Xt=((0,M.a)((0,y.jsx)(oe.h,{})),(0,M.a)((0,y.jsx)(ue.h,{}))),Yt=(0,M.a)((0,y.jsx)(Y.h,{})),Jt=(0,M.a)((0,y.jsx)(ne.h,{})),Qt=(0,M.a)((0,y.jsx)(ae.h,{})),Zt=((0,M.a)((0,y.jsx)(xe.h,{})),(0,M.a)((0,y.jsx)(Le.h,{})),(0,M.a)((0,y.jsx)(G.h,{})),(0,M.a)((0,y.jsx)(K.h,{})),(0,M.a)((0,y.jsx)(V.h,{})),(0,M.a)((0,y.jsx)(me.h,{}))),en=((0,M.a)((0,y.jsx)(W.h,{})),(0,M.a)((0,y.jsx)(ye.h,{}))),tn=((0,M.a)((0,y.jsx)(re.h,{})),(0,M.a)((0,y.jsx)(H.h,{}))),nn=(0,M.a)((0,y.jsx)(he.h,{})),an=(0,M.a)((0,y.jsx)(B.h,{})),rn=((0,M.a)((0,y.jsx)(wt.h,{})),(0,M.a)((0,y.jsx)(jt.h,{})),(0,M.a)((0,y.jsx)(Be.h,{})),(0,M.a)((0,y.jsx)(lt.h,{})),(0,M.a)((0,y.jsx)(ct.h,{})),(0,M.a)((0,y.jsx)(Fe.h,{}))),sn=((0,M.a)((0,y.jsx)(pe.h,{})),(0,M.a)((0,y.jsx)(ze.h,{}))),on=((0,M.a)((0,y.jsx)(mt.h,{})),(0,M.a)((0,y.jsx)(gt.h,{})),(0,M.a)((0,y.jsx)(We.h,{}))),ln=((0,M.a)((0,y.jsx)(Q.h,{})),(0,M.a)((0,y.jsx)(de.h,{}))),cn=((0,M.a)((0,y.jsx)(U.h,{})),(0,M.a)((0,y.jsx)(Ne.h,{})),(0,M.a)((0,y.jsx)(Ee.h,{})),(0,M.a)((0,y.jsx)(ce.h,{})),(0,M.a)((0,y.jsx)(ie.h,{})),(0,M.a)((0,y.jsx)(Re.h,{})),(0,M.a)((0,y.jsx)(pt.h,{})),(0,M.a)((0,y.jsx)(it.h,{})),(0,M.a)((0,y.jsx)(De.h,{})),(0,M.a)((0,y.jsx)(Ue.h,{})),(0,M.a)((0,y.jsx)(nt.h,{})),(0,M.a)((0,y.jsx)(ot.h,{})),(0,M.a)((0,y.jsx)(Ge.h,{})),(0,M.a)((0,y.jsx)($e.h,{})),(0,M.a)((0,y.jsx)(xt.h,{})),(0,M.a)((0,y.jsx)(St.h,{})),(0,M.a)((0,y.jsx)(tt.h,{})),(0,M.a)((0,y.jsx)(bt.h,{})),(0,M.a)((0,y.jsx)(He.h,{})),(0,M.a)((0,y.jsx)(vt.h,{})),(0,M.a)((0,y.jsx)(Ve.h,{})),(0,M.a)((0,y.jsx)(at.h,{})),(0,M.a)((0,y.jsx)(rt.h,{})),(0,M.a)((0,y.jsx)(At.h,{})),(0,M.a)((0,y.jsx)(_t.h,{})),(0,M.a)((0,y.jsx)(qe.h,{})),(0,M.N)((0,$.Nf)())),un=((0,M.a)((0,y.jsx)(Te.h,{})),(0,M.a)((0,y.jsx)(Ze.h,{})),(0,M.a)((0,y.jsx)(Ye.h,{})),(0,M.a)((0,y.jsx)(et.h,{})),(0,M.a)((0,y.jsx)(Qe.h,{})),(0,M.a)((0,y.jsx)(Et.h,{})),(0,M.a)((0,y.jsx)(Ot.h,{})),(0,a.A)((0,a.A)({},L.M),{},{arrow:It,avatar:Tt,check:N.A,contact:Pt,drag:kt,explain:I.A,instruct:Rt,rewrite:Mt,adjust_skill:T.A,search:Lt,sider:$t,summarize:Dt,translate:Ht,del:Bt,copy:P.A,conversation:Vt,settings:Ut,more:Gt,regenerate:Kt,expand:Ft,close:Wt,cancel:zt,ok:qt,messageFailed:Xt,right:Yt,IconRead:Jt,IconReadPage:Qt,global:Zt,expandDownFilled:en,IconTranslateOutline:tn,IconLangSettings:nn,IconTranslateOutlineActive:an,IconLink:ln,cici:cn,searchToggleSize:rn,searchMore:sn,searchSource:on,collect:k.A,searchAI:R.A,IconPlayAudio:Nt}),()=>{const{translatePage:e,translateActivated:t,t:n}=(()=>{const[e,t]=(0,c.useState)(!1),n=(0,o.B)();return(0,c.useEffect)((()=>{O.emit("REQUEST_TRANSLATE_STATE",C.EXT);const e=O.on("RESPONSE_TRANSLATE_STATE",C.EXT,(e=>{t(e)})),n=O.on("PAGE_TRANSLATED",C.EXT,(e=>{t(e)}));return()=>{e(),n()}}),[]),{translatePage:()=>{e?O.emit(A,C.EXT,!1):O.emit(A,C.EXT,!0),window.close()},t:n,translateActivated:e}})();return(0,y.jsx)(b,{activated:t,icon:t?(0,y.jsx)(an,{}):(0,y.jsx)(tn,{}),textContent:n(t?"flow_web_ext_sidebar_translateoff":"flow_web_ext_sidebar_translate"),onClick:e})}),dn=()=>{const{t:e,summarizePage:t}={t:(0,o.B)(),summarizePage:()=>{O.emit("SUMMARIZE PAGE",C.EXT),window.close()}};return(0,y.jsx)(b,{icon:(0,y.jsx)(Jt,{}),textContent:e("flow_web_ext_sidebar_summarize"),onClick:t})},hn="popup_struct_pad-QpfToS",fn="popup_struct_divider_wrapper-IVfjUT",pn="popup_struct_divider-PrGhKR",mn=()=>(0,y.jsxs)("div",{className:hn,children:[(0,y.jsx)(un,{}),(0,y.jsx)("div",{className:fn,children:(0,y.jsx)("div",{className:pn})}),(0,y.jsx)(dn,{})]});var gn=n(67685);n(77591);function vn(e,t={}){const n=e.includes("?"),a=Object.keys(t).reduce(((e,n)=>{const a=void 0===t[n]||null===t[n]?"":String(t[n]);return e=`${e}&${`${encodeURIComponent(n)}=${encodeURIComponent(a)}`}`}),"");return n?`${e}${a}`:`${e}?${a.replace(/^&/,"")}`}var yn=n(24228),bn=n(16409),_n=n(44969);n(55322);const xn=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),wn=()=>{try{return Boolean(getComputedStyle(document.documentElement||document.body).getPropertyValue("--arc-palette-title"))}catch(e){return!1}};const An=e=>{if(!location.href.includes(`${gn.FI}${_n.EP}`))if(xn()){const{trackMeta:t}=e||{};window.open(function(e){const t={from:"ext"};return e&&(t.extra=btoa(JSON.stringify(e))),vn(`https://${gn.FI}/browser-extension/login`,t)}({trackMeta:t}),"_blank")}else(0,bn.cs)({name:"open-login-window",body:(0,a.A)((0,a.A)((0,a.A)({},(0,yn.c)()),e),{},{clearWindow:wn()})})};var Sn=n(17411);const jn="popup_login_box-uH37WF",Cn="cici_picture-Oc0wQf",En="cici_name-KEmj7D",On="login_notice-cNKapw",Nn="login_button-YWoP6z",In="login_button_text-i9rSIQ",Tn=()=>{const e=(0,Sn.Uk)();return(0,y.jsxs)("div",{className:jn,children:[(0,y.jsx)("div",{className:Cn,children:(0,y.jsx)("img",{src:(0,$.Nf)()})}),(0,y.jsx)("div",{className:En,children:(0,$.L2)()}),(0,y.jsx)("div",{className:On,children:e("flow_web_ext_action_login_welcome")}),(0,y.jsx)("div",{className:Nn,onClick:()=>{An({trackMeta:{login_entrance:"highlight_result"}})},children:(0,y.jsx)("span",{className:In,children:e("flow_web_ext_login")})})]})};var Pn=n(47730);const kn=()=>{const[e]=(0,Pn.Y)("authInfo"),t=(null==e?void 0:e.isAuthenticated)||!1,n=(0,Sn.Uk)();return(0,y.jsx)(o.C,{t:n,children:t?(0,y.jsx)(mn,{}):(0,y.jsx)(Tn,{})})},Rn=function(){var e=(0,r.A)((function*(){(yield(0,$.e6)())&&s.createRoot(document.getElementById("root")).render((0,y.jsx)(kn,{}))}));return function(){return e.apply(this,arguments)}}();var Mn=n(37357),Ln=n(66873),$n=n(27925);const Dn=new(n(79776).h);(0,Mn.b)({clients:[Dn],disableConsole:!0});const Hn=Mn.v,Bn=new Ln.B($n.A);Mn.v.createLoggerWith({clients:[Bn],ctx:{meta:{}}});var Un=n(29988),Vn=n(75022);const Gn="popupContainer-ilTwvG",Kn="header-En_7OY",Fn="logoIcon-QpTZQQ",Wn="name-Y9lUGx",zn="desc-SFg6ZI",qn="button-J2jP5y";(0,Sn.LE)();function Xn(){const e=(0,Sn.Uk)();(0,Vn.A)(document,"body");const t=function(){var e=(0,r.A)((function*(){const e=yield(0,$.e6)();null!=e&&e.id&&(chrome.tabs.reload(e.id),yield Un.A.set(gn.fb,e.id)),window.close()}));return function(){return e.apply(this,arguments)}}();return(0,y.jsx)(o.C,{t:e,children:(0,y.jsxs)("div",{className:Gn,children:[(0,y.jsxs)("div",{className:Kn,children:[(0,y.jsx)("img",{className:Fn,src:(0,$.Nf)(),alt:"logo"}),(0,y.jsx)("span",{className:Wn,children:(0,$.L2)()})]}),(0,y.jsx)("div",{className:zn,children:e("flow_web_ext_install_refresh_des",{brand:(0,$.L2)()})}),(0,y.jsx)("button",{onClick:t,className:qn,children:e("flow_web_ext_install_refresh_confirm")})]})})}(function(){var e=(0,r.A)((function*(){const e=yield(0,$.e6)();var t;if(null!=e&&e.url&&!(e=>{const t=e.startsWith("chrome://")||e.startsWith("chrome-extension://")||e.startsWith("edge://")||e.startsWith("about:"),n=["https://chrome.google.com/webstore","https://microsoftedge.microsoft.com/addons","https://addons.mozilla.org/en-US/firefox","https://chromewebstore.google.com/"].some((t=>e.startsWith(t)));return t||n})(e.url)||(window.open(gn.r8),xn()))try{xn()?yield Rn():(yield Promise.race([(t=10,new Promise((e=>setTimeout(e,t)))),(0,bn.UL)({tabId:null==e?void 0:e.id,name:"toggle-cici-sidebar"})]),window.close())}catch(n){Hn.persist.info({eventName:"[POPUP] - RENDER_POPUP",meta:(0,a.A)({},n)}),s.createRoot(document.getElementById("root")).render((0,y.jsx)(Xn,{}))}else window.close()}));return function(){return e.apply(this,arguments)}})()().catch((e=>{Hn.persist.info({eventName:"[POPUP] - STARTUP",meta:(0,a.A)({},e)})}))},78503:(e,t,n)=>{n.d(t,{WR:()=>i,X0:()=>o,c$:()=>s,iI:()=>r,lf:()=>a});let a=function(e){return e.chatAssistant="sidebarButton",e.searchAssistant="search",e.selectAssistant="quick",e.grammar="grammar",e.inputAssistant="input",e.replyAssistant="reply",e.searchAddons="search-addons",e.videoSummary="videoSummary",e.videoSubtitle="videoSubtitle",e.videoImmersion="videoImmersion",e.videoMemo="videoMemo",e.podcastSummary="podcastSummary",e.linkPreview="linkPreview",e.sidebarFloatCard="sidebarFloatCard",e.vocabruary="vocabruary",e.collectionImage="collectionImage",e.collectionPage="collectionPage",e}({}),r=function(e){return e.temp="temp",e.page="page",e.global="global",e}({}),s=function(e){return e.HUOSHAN="huoshan",e.DOUBAO="doubao",e.GPT="gpt",e.GOOGLE="google",e.MICROSOFT="microsoft",e.DEEPL="deepl",e}({}),o=function(e){return e.NO_TRANSLATE="no_translate",e.TRANSLATE_DIRECTLY="translate_directly",e.TRANSLATE_BY_COMMAND="translate_by_command",e.TRANSLATE_BY_OPTION="translate_by_option",e.TRANSLATE_BY_CUSTOM_SHORTCUT="translate_by_custom_shortcut",e}({}),i=function(e){return e.Space="Space",e.Comma="Comma",e.Slash="Slash",e.Equal="Equal",e}({})},58980:(e,t,n)=>{n.d(t,{WR:()=>r.WR,X0:()=>r.X0,c$:()=>r.c$,lG:()=>a.l});var a=n(15959),r=n(78503)},4252:(e,t,n)=>{n.d(t,{e:()=>a});let a=function(e){return e.OpenSide="OpenSide",e.TranslatePage="TranslatePage",e.ReadPage="ReadPage",e.HoverTextTranslate="HoverTextTranslate",e.ScreenCapture="ScreenCapture",e.VoiceInput="VoiceInput",e.CollectPage="CollectPage",e.BilingualSubtitles="BilingualSubtitles",e.TTSReadPage="TTSReadPage",e}({})},67685:(e,t,n)=>{n.d(t,{FI:()=>r,fb:()=>o,r8:()=>s});var a=n(78503);const r="www.doubao.com",s="https://www.doubao.com/chat/?open_from_ext=1",o="tab-id-need-open-sidebar";a.iI.temp,a.iI.page,a.iI.global,a.lf.sidebarFloatCard,a.lf.videoSubtitle,a.lf.videoSummary,a.lf.videoMemo,a.lf.podcastSummary,a.lf.chatAssistant,a.lf.searchAssistant,a.lf.selectAssistant,a.lf.grammar,a.lf.inputAssistant,a.lf.searchAddons,a.lf.linkPreview,a.lf.videoImmersion,a.lf.replyAssistant,a.lf.vocabruary,a.lf.collectionImage},39415:(e,t,n)=>{n.d(t,{UP:()=>a});n(7685);const a=()=>/edge?\//.test(navigator.userAgent.toLowerCase())},29019:(e,t)=>{var n;!function(){var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var o=r.apply(null,n);o&&e.push(o)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},75541:(e,t,n)=>{var a=n(9388);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},9388:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),e.exports=n(89348)},23630:(e,t,n)=>{function a(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}n.d(t,{NM:()=>i,dM:()=>o,mc:()=>s});var r={};function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&r[t[0]]||("string"==typeof t[0]&&(r[t[0]]=new Date),a.apply(void 0,t))}function o(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{precheck:function(t,a){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.languages[0],r=!!t.options&&t.options.fallbackLng,s=t.languages[t.languages.length-1];if("cimode"===a.toLowerCase())return!0;var o=function(e,n){var a=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===a||2===a};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)||!t.hasResourceBundle(a,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!o(a,e)||r&&!o(s,e)))}(e,t,n):(s("i18n.languages were undefined or empty",t.languages),!0)}},3626:(e,t,n)=>{var a=n(11855),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,s={},c=null,u=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},18430:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,A={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,a){var r,s={},o=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!S.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=a;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:i,props:s,_owner:A.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,r,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return o=o(l=e),e=""===s?"."+O(l,0):s,x(o)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),N(o,t,r,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+O(i=e[c],c);l+=N(i,t,r,u,o)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=N(i=i.value,t,r,u=s+O(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var a=[],r=0;return N(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},k={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:k,ReactCurrentOwner:A};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,a){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=A.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:r,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},11855:(e,t,n)=>{e.exports=n(18430)},63159:(e,t,n)=>{e.exports=n(3626)},22933:(e,t,n)=>{var a=n(18987);e.exports={isRtlLang:a.isRtlLang,getLangDir:a.getLangDir}},59661:(e,t,n)=>{n.d(t,{__assign:()=>s,__extends:()=>r,__spreadArray:()=>o});var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};Object.create;function o(e,t,n){if(n||2===arguments.length)for(var a,r=0,s=t.length;r<s;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}Object.create},67593:(e,t,n)=>{n.d(t,{w:()=>s});var a=n(73426),r=class{#e;#t;get primaryClient(){return this.#t}#n;get secondaryClient(){return this.#n}#a;get area(){return this.#a}get hasWebApi(){try{return typeof window<"u"&&!!window.localStorage}catch(e){return!1}}#r=new Map;#s;get copiedKeySet(){return this.#s}isCopied=e=>this.hasWebApi&&(this.allCopied||this.copiedKeySet.has(e));#o=!1;get allCopied(){return this.#o}getExtStorageApi=()=>globalThis.browser?.storage||globalThis.chrome?.storage;get hasExtensionApi(){try{return!!this.getExtStorageApi()}catch(e){return!1}}isWatchSupported=()=>this.hasExtensionApi;keyNamespace="";isValidKey=e=>e.startsWith(this.keyNamespace);getNamespacedKey=e=>`${this.keyNamespace}${e}`;getUnnamespacedKey=e=>e.slice(this.keyNamespace.length);constructor({area:e="sync",allCopied:t=!1,copiedKeyList:n=[]}={}){this.setCopiedKeySet(n),this.#a=e,this.#o=t;try{this.hasWebApi&&(t||n.length>0)&&(this.#n=window.localStorage)}catch{}try{this.hasExtensionApi&&(this.#e=this.getExtStorageApi(),(()=>{try{let e=(globalThis.navigator?.userAgent).match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===e[1])return parseInt(e[2])<100||2===globalThis.chrome.runtime?.getManifest()?.manifest_version}catch{return!1}return!1})()?this.#t=(0,a.A)(this.#e[this.area],{exclude:["getBytesInUse"],errorFirst:!1}):this.#t=this.#e[this.area])}catch{}}setCopiedKeySet(e){this.#s=new Set(e)}rawGetAll=()=>this.#t?.get();getAll=async()=>{let e=await this.rawGetAll();return Object.entries(e).filter((([e])=>this.isValidKey(e))).reduce(((e,[t,n])=>(e[this.getUnnamespacedKey(t)]=n,e)),{})};copy=async e=>{let t=void 0===e;if(!t&&!this.copiedKeySet.has(e)||!this.allCopied||!this.hasExtensionApi)return!1;let n=this.allCopied?await this.rawGetAll():await this.#t.get((t?[...this.copiedKeySet]:[e]).map(this.getNamespacedKey));if(!n)return!1;let a=!1;for(let r in n){let e=n[r],t=this.#n?.getItem(r);this.#n?.setItem(r,e),a||=e!==t}return a};rawGet=async e=>this.hasExtensionApi?(await this.#t.get(e))[e]:this.isCopied(e)?this.#n?.getItem(e):null;rawSet=async(e,t)=>(this.isCopied(e)&&this.#n?.setItem(e,t),this.hasExtensionApi&&await this.#t.set({[e]:t}),null);clear=async(e=!1)=>{e&&this.#n?.clear(),await this.#t.clear()};rawRemove=async e=>{this.isCopied(e)&&this.#n?.removeItem(e),this.hasExtensionApi&&await this.#t.remove(e)};removeAll=async()=>{let e=await this.rawGetAll(),t=Object.keys(e);await Promise.all(t.map(this.rawRemove))};watch=e=>{let t=this.isWatchSupported();return t&&this.#i(e),t};#i=e=>{for(let t in e){let n=this.getNamespacedKey(t),a=this.#r.get(n)?.callbackSet||new Set;if(a.add(e[t]),a.size>1)continue;let r=(e,t)=>{if(t!==this.area||!e[n])return;let a=this.#r.get(n);Promise.all([this.parseValue(e[n].newValue),this.parseValue(e[n].oldValue)]).then((([e,n])=>{for(let r of a.callbackSet)r({newValue:e,oldValue:n},t)}))};this.#e.onChanged.addListener(r),this.#r.set(n,{callbackSet:a,listener:r})}};unwatch=e=>{let t=this.isWatchSupported();return t&&this.#l(e),t};#l(e){for(let t in e){let n=this.getNamespacedKey(t),a=e[t];if(this.#r.has(n)){let e=this.#r.get(n);e.callbackSet.delete(a),0===e.callbackSet.size&&(this.#r.delete(n),this.#e.onChanged.removeListener(e.listener))}}}unwatchAll=()=>this.#c();#c(){this.#r.forEach((({listener:e})=>this.#e.onChanged.removeListener(e))),this.#r.clear()}async getItem(e){return this.get(e)}async setItem(e,t){await this.set(e,t)}async removeItem(e){return this.remove(e)}},s=class extends r{get=async e=>{let t=this.getNamespacedKey(e),n=await this.rawGet(t);return this.parseValue(n)};set=async(e,t)=>{let n=this.getNamespacedKey(e),a=JSON.stringify(t);return this.rawSet(n,a)};remove=async e=>{let t=this.getNamespacedKey(e);return this.rawRemove(t)};setNamespace=e=>{this.keyNamespace=e};parseValue=async e=>{try{if(void 0!==e)return JSON.parse(e)}catch(t){}}}}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e].call(s.exports,s,s.exports,a),s.exports}a.m=t,e=[],a.O=(t,n,r,s)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){for(var[n,r,s]=e[u],i=!0,l=0;l<n.length;l++)(!1&s||o>=s)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(i=!1,s<o&&(o=s));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,r,s]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={887:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,s,[o,i,l]=n,c=0;if(o.some((t=>0!==e[t]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var u=l(a)}for(t&&t(n);c<o.length;c++)s=o[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},n=self.webpackChunkflow_web_extension=self.webpackChunkflow_web_extension||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.O(void 0,[126,685,295,736,922],(()=>a(37894)));var r=a.O(void 0,[126,685,295,736,922],(()=>a(21419)));r=a.O(r);