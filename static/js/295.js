/*! For license information please see 295.js.LICENSE.txt */
(self.webpackChunkflow_web_extension=self.webpackChunkflow_web_extension||[]).push([[295],{5081:(n,e,r)=>{r.d(e,{Ay:()=>U});var t=10,i=1e3,o=function(n){return JSON.stringify({ev_type:"batch",list:n})};var u=function(){return u=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},u.apply(this,arguments)};function a(n,e){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var t,i,o=r.call(n),u=[];try{for(;(void 0===e||e-- >0)&&!(t=o.next()).done;)u.push(t.value)}catch(b){i={error:b}}finally{try{t&&!t.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return u}function f(n,e,r){if(r||2===arguments.length)for(var t,i=0,o=e.length;i<o;i++)!t&&i in e||(t||(t=Array.prototype.slice.call(e,0,i)),t[i]=e[i]);return n.concat(t||Array.prototype.slice.call(e))}var c=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],l=function(){return{}};function s(n){return n}function v(n){return"object"==typeof n&&null!==n}var d=Object.prototype;function p(n){return"[object Array]"===d.toString.call(n)}function g(n){return"number"==typeof n}function m(n){return"string"==typeof n}function h(n,e){if(!p(n))return!1;if(0===n.length)return!1;for(var r=0;r<n.length;){if(n[r]===e)return!0;r++}return!1}var y=function(n,e){if(!p(n))return n;var r=n.indexOf(e);if(r>=0){var t=n.slice();return t.splice(r,1),t}return n};function _(n){try{return m(n)?n:JSON.stringify(n)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var b=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e]},S=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e]},w=function(n){return Math.random()<Number(n)},E=function(n,e){return n<Number(e)},C=function(n){return function(e){for(var r=e,t=0;t<n.length&&r;t++)try{r=n[t](r)}catch(i){b(i)}return r}};function R(){var n=function(){for(var n=new Array(16),e=0,r=0;r<16;r++)3&r||(e=4294967296*Math.random()),n[r]=e>>>((3&r)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);var t=0,i=e;return[i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]]].join("")}(n)}function x(n){var e,r,t=n.builder,i=n.createSender,o=n.createDefaultConfig,u=n.createConfigManager,l=n.userConfigNormalizer,s=n.initConfigNormalizer,d=n.validateInitConfig,p={};c.forEach((function(n){return p[n]=[]}));var g=!1,m=!1,_=!1,b=[],w=[],E=function(){var n=!1,e={},r=function(n){n.length&&n.forEach((function(n){try{n()}catch(e){}})),n.length=0},t=function(n){e[n]&&e[n].forEach((function(n){r(n[1])})),e[n]=void 0};return{set:function(t,i,o){e[t]?e[t].push([i,o]):e[t]=[[i,o]],n&&r(o)},has:function(n){return!!e[n]},remove:t,removeByEvType:function(n){Object.keys(e).forEach((function(t){e[t]&&e[t].forEach((function(e){e[0]===n&&r(e[1])}))}))},clear:function(){n=!0,Object.keys(e).forEach((function(n){t(n)}))}}}(),R={getBuilder:function(){return t},getSender:function(){return e},getPreStartQueue:function(){return b},init:function(n){if(g)S("already inited");else{if(!(n&&v(n)&&d(n)))throw new Error("invalid InitConfig, init failed");var t=o(n);if(!t)throw new Error("defaultConfig missing");var a=s(n);if((r=u(t)).setConfig(a),r.onChange((function(){x("config")})),!(e=i(r.getConfig())))throw new Error("sender missing");g=!0,x("init",!0)}},set:function(n){g&&n&&v(n)&&(x("beforeConfig",!1,n),null==r||r.setConfig(n))},config:function(n){if(g)return n&&v(n)&&(x("beforeConfig",!1,n),null==r||r.setConfig(l(n))),null==r?void 0:r.getConfig()},provide:function(n,e){h(w,n)?S("cannot provide "+n+", reserved"):(R[n]=e,x("provide",!1,n))},start:function(){var n=this;g&&(m||null==r||r.onReady((function(){m=!0,x("start",!0),b.forEach((function(e){return n.build(e)})),b.length=0})))},report:function(n){if(n){var e=C(p.beforeReport)(n);if(e){var r=C(p.report)(e);r&&(m?this.build(r):b.push(r))}}},build:function(n){if(m){var e=C(p.beforeBuild)(n);if(e){var r=t.build(e);if(r){var i=C(p.build)(r);i&&this.send(i)}}}},send:function(n){if(m){var r=C(p.beforeSend)(n);r&&(e.send(r),x("send",!1,r))}},destroy:function(){E.clear(),_=!0,b.length=0,x("beforeDestroy",!0)},on:function(n,e){if("init"===n&&g||"start"===n&&m||"beforeDestroy"===n&&_)try{e()}catch(r){}else p[n]&&p[n].push(e)},off:function(n,e){p[n]&&(p[n]=y(p[n],e))},destroyAgent:E};return w=Object.keys(R),R;function x(n,e){void 0===e&&(e=!1);for(var r=[],t=2;t<arguments.length;t++)r[t-2]=arguments[t];p[n].forEach((function(n){try{n.apply(void 0,f([],a(r),!1))}catch(e){}})),e&&(p[n].length=0)}}var I=function(n){var e=function(){var n={},e={},r={set:function(t,i){return n[t]=i,e[t]=_(i),r},merge:function(t){return n=u(u({},n),t),Object.keys(t).forEach((function(n){e[n]=_(t[n])})),r},delete:function(t){return delete n[t],delete e[t],r},clear:function(){return n={},e={},r},get:function(n){return e[n]},toString:function(){return u({},e)}};return r}();n.provide("context",e),n.on("report",(function(n){return n.extra||(n.extra={}),n.extra.context=e.toString(),n}))};var D=function(){return Date.now()};var j=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar}(function(){if("object"==typeof window&&v(window))return window}());r&&(r.errors||(r.errors=[]),r.errors.push(n))},A="custom",O=function(n){n.provide("sendEvent",(function(e){var r=function(n){if(n&&v(n)&&n.name&&m(n.name)){var e={name:n.name,type:"event"};if("metrics"in n&&v(n.metrics)){var r=n.metrics,t={};for(var i in r)g(r[i])&&(t[i]=r[i]);e.metrics=t}if("categories"in n&&v(n.categories)){var o=n.categories,u={};for(var i in o)u[i]=_(o[i]);e.categories=u}return e}}(e);r&&n.report({ev_type:A,payload:r,extra:{timestamp:D()}})})),n.provide("sendLog",(function(e){var r=function(n){if(n&&v(n)&&n.content&&m(n.content)){var e={content:_(n.content),type:"log",level:"info"};if("level"in n&&(e.level=n.level),"extra"in n&&v(n.extra)){var r=n.extra,t={},i={};for(var o in r)g(r[o])?t[o]=r[o]:i[o]=_(r[o]);e.metrics=t,e.categories=i}return e}}(e);r&&n.report({ev_type:A,payload:r,extra:{timestamp:D()}})}))},T=function(n,e){var r=n.common||{};return r.sample_rate=e,n.common=r,n},k=function(n,e,r,t,i){return n?(o=i(t,e),function(){return o}):function(){return r(e)};var o},B=function(n,e,r,t){var i=function(n,e,r){for(var t,i=a(e.split(".")),o=i[0],u=i.slice(1);n&&u.length>0;)n=n[o],o=(t=a(u))[0],u=t.slice(1);if(n)return r(n,o)}(n,e,(function(n,e){return n[e]}));return void 0!==i&&function(n,e,r){switch(r){case"eq":return h(e,n);case"neq":return!h(e,n);case"gt":return n>e[0];case"gte":return n>=e[0];case"lt":return n<e[0];case"lte":return n<=e[0];case"regex":return Boolean(n.match(new RegExp(e.join("|"))));case"not_regex":return!n.match(new RegExp(e.join("|")));default:return!1}}(i,function(n,e){return n.map((function(n){switch(e){case"number":return Number(n);case"boolean":return"1"===n;default:return String(n)}}))}(t,"boolean"==typeof i?"bool":g(i)?"number":"string"),r)},N=function(n,e){try{return"rule"===e.type?B(n,e.field,e.op,e.values):"and"===e.type?e.children.every((function(e){return N(n,e)})):e.children.some((function(e){return N(n,e)}))}catch(r){return j(r),!1}},z=function(n,e,r,t,i){if(!e)return s;var o=e.sample_rate,u=e.include_users,a=e.sample_granularity,f=e.rules,c=e.r,l=void 0===c?Math.random():c;if(h(u,n))return function(n){return T(n,1)};var v="session"===a,d=k(v,o,r,l,t),p=function(n,e,r,t,i,o){var u={};return Object.keys(n).forEach((function(a){var f=n[a],c=f.enable,l=f.sample_rate,s=f.conditional_sample_rules;c?(u[a]={enable:c,sample_rate:l,effectiveSampleRate:l*r,hit:k(e,l,t,i,o)},s&&(u[a].conditional_hit_rules=s.map((function(n){var u=n.sample_rate,a=n.filter;return{sample_rate:u,hit:k(e,u,t,i,o),effectiveSampleRate:u*r,filter:a}})))):u[a]={enable:c,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),u}(f,v,o,r,l,t);return function(n){var e;if(!d())return v&&i[0](),!1;if(!(n.ev_type in p))return T(n,o);if(!p[n.ev_type].enable)return v&&i[1](n.ev_type),!1;if(null===(e=n.common)||void 0===e?void 0:e.sample_rate)return n;var r=p[n.ev_type],t=r.conditional_hit_rules;if(t)for(var u=0;u<t.length;u++)if(N(n,t[u].filter))return!!t[u].hit()&&T(n,t[u].effectiveSampleRate);return r.hit()?T(n,r.effectiveSampleRate):((!t||!t.length)&&v&&i[1](n.ev_type),!1)}},L={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:u(u({},n.extra||{}),n.overrides||{})}}},M=function(n){var e,r=n,t={},i=l,o=l;return{getConfig:function(){return r},setConfig:function(c){var l;return t=u(u({},t),c||{}),(l=u(u({},n),t)).sample=function(n,e){if(!n||!e)return n||e;var r=u(u({},n),e);return r.include_users=f(f([],a(n.include_users||[]),!1),a(e.include_users||[]),!1),r.rules=f(f([],a(Object.keys(n.rules||{})),!1),a(Object.keys(e.rules||{})),!1).reduce((function(r,t){var i,o;return t in r||(t in(n.rules||{})&&t in(e.rules||{})?(r[t]=u(u({},n.rules[t]),e.rules[t]),r[t].conditional_sample_rules=f(f([],a(n.rules[t].conditional_sample_rules||[]),!1),a(e.rules[t].conditional_sample_rules||[]),!1)):r[t]=(null===(i=n.rules)||void 0===i?void 0:i[t])||(null===(o=e.rules)||void 0===o?void 0:o[t])),r}),{}),r}(n.sample,t.sample),r=l,o(),e||(e=c,i()),r},onChange:function(n){o=n},onReady:function(n){i=n,e&&i()}}};var G="mon.zijieapi.com",Y={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function q(n){return u({},n)}function F(n){return v(n)&&"bid"in n&&"transport"in n}function J(n){return u({},n)}var P=function(n){n.on("report",(function(e){return function(n,e){var r={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:e.version||"1.4.5",sdk_name:e.name||"SDK_BASE"};return u(u({},n),{extra:u(u({},r),n.extra||{})})}(e,n.config())}))},W=function(n){n.on("beforeBuild",(function(e){return function(n,e){var r={};return r.bid=e.bid,r.pid=e.pid,r.view_id=e.viewId,r.user_id=e.userId,r.device_id=e.deviceId,r.session_id=e.sessionId,r.release=e.release,r.env=e.env,u(u({},n),{extra:u(u({},r),n.extra||{})})}(e,n.config())}))};function K(n){return function(n){var e,r=n.transport,u=n.endpoint,a=n.size,f=void 0===a?t:a,c=n.wait,l=void 0===c?i:c,s=[],v=0;function d(){if(s.length){var n=this.getBatchData();r.post({url:u,data:n,fail:function(r){e&&e(r,n)}}),s=[]}}return{getSize:function(){return f},getWait:function(){return l},setSize:function(n){f=n},setWait:function(n){l=n},getEndpoint:function(){return u},setEndpoint:function(n){u=n},send:function(n){s.push(n),s.length>=f&&d.call(this),clearTimeout(v),v=setTimeout(d.bind(this),l)},flush:function(){clearTimeout(v),d.call(this)},getBatchData:function(){return s.length?o(s):""},clear:function(){clearTimeout(v),s=[]},fail:function(n){e=n}}}(n)}var Q=function(n){return{bid:"",pid:"",viewId:(e="_",e+"_"+Date.now()),userId:R(),deviceId:R(),sessionId:R(),domain:G,release:"",env:"production",sample:Y,plugins:{},transport:{get:l,post:l}};var e},H=function(n){var e=void 0===n?{}:n,r=e.createSender,t=void 0===r?function(n){return K({size:20,endpoint:(e=n.domain,void 0===r&&(r="/monitor_browser/collect/batch/"),(e&&e.indexOf("//")>=0?"":"https://")+e+r),transport:n.transport});var e,r}:r,i=e.builder,o=void 0===i?L:i,u=e.createDefaultConfig,a=x({validateInitConfig:F,initConfigNormalizer:q,userConfigNormalizer:J,createSender:t,builder:o,createDefaultConfig:void 0===u?Q:u,createConfigManager:M});return I(a),W(a),P(a),function(n,e){n.on("init",(function(){var r=[],t=function(t){t.forEach((function(t){var i=t.name;h(r,i)||(r.push(i),t.setup(n),e&&e(i,t.setup),n.destroyAgent.set(i,i,[function(){r=y(r,i),t.tearDown&&t.tearDown()}]))}))};n.provide("applyIntegrations",t);var i=n.config();i&&i.integrations&&t(i.integrations)}))}(a),a},U=function(n){void 0===n&&(n={});var e=H(n);return function(n){n.on("start",(function(){var e=n.config(),r=e.userId,t=e.sample,i=z(r,t,w,E,[function(){n.destroy()},function(e){n.destroyAgent.removeByEvType(e)}]);n.on("build",i)}))}(e),O(e),e}()},35625:(n,e)=>{var r=10,t=1e3,i=function(n){return JSON.stringify({ev_type:"batch",list:n})};var o=function(){return o=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},o.apply(this,arguments)};function u(n,e){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var t,i,o=r.call(n),u=[];try{for(;(void 0===e||e-- >0)&&!(t=o.next()).done;)u.push(t.value)}catch(_){i={error:_}}finally{try{t&&!t.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return u}function a(n,e,r){if(r||2===arguments.length)for(var t,i=0,o=e.length;i<o;i++)!t&&i in e||(t||(t=Array.prototype.slice.call(e,0,i)),t[i]=e[i]);return n.concat(t||Array.prototype.slice.call(e))}var f=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],c=function(){return{}};function l(n){return n}function s(n){return"object"==typeof n&&null!==n}var v=Object.prototype;function d(n){return"[object Array]"===v.toString.call(n)}function p(n){return"number"==typeof n}function g(n){return"string"==typeof n}function m(n,e){if(!d(n))return!1;if(0===n.length)return!1;for(var r=0;r<n.length;){if(n[r]===e)return!0;r++}return!1}var h=function(n,e){if(!d(n))return n;var r=n.indexOf(e);if(r>=0){var t=n.slice();return t.splice(r,1),t}return n};function y(n){try{return g(n)?n:JSON.stringify(n)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var _=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e]},b=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e]},S=function(n){return Math.random()<Number(n)},w=function(n,e){return n<Number(e)},E=function(n){return function(e){for(var r=e,t=0;t<n.length&&r;t++)try{r=n[t](r)}catch(i){_(i)}return r}};function C(){var n=function(){for(var n=new Array(16),e=0,r=0;r<16;r++)3&r||(e=4294967296*Math.random()),n[r]=e>>>((3&r)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);var t=0,i=e;return[i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]]].join("")}(n)}function R(n){var e,r,t=n.builder,i=n.createSender,o=n.createDefaultConfig,c=n.createConfigManager,l=n.userConfigNormalizer,v=n.initConfigNormalizer,d=n.validateInitConfig,p={};f.forEach((function(n){return p[n]=[]}));var g=!1,y=!1,_=!1,S=[],w=[],C=function(){var n=!1,e={},r=function(n){n.length&&n.forEach((function(n){try{n()}catch(e){}})),n.length=0},t=function(n){e[n]&&e[n].forEach((function(n){r(n[1])})),e[n]=void 0};return{set:function(t,i,o){e[t]?e[t].push([i,o]):e[t]=[[i,o]],n&&r(o)},has:function(n){return!!e[n]},remove:t,removeByEvType:function(n){Object.keys(e).forEach((function(t){e[t]&&e[t].forEach((function(e){e[0]===n&&r(e[1])}))}))},clear:function(){n=!0,Object.keys(e).forEach((function(n){t(n)}))}}}(),R={getBuilder:function(){return t},getSender:function(){return e},getPreStartQueue:function(){return S},init:function(n){if(g)b("already inited");else{if(!(n&&s(n)&&d(n)))throw new Error("invalid InitConfig, init failed");var t=o(n);if(!t)throw new Error("defaultConfig missing");var u=v(n);if((r=c(t)).setConfig(u),r.onChange((function(){x("config")})),!(e=i(r.getConfig())))throw new Error("sender missing");g=!0,x("init",!0)}},set:function(n){g&&n&&s(n)&&(x("beforeConfig",!1,n),null==r||r.setConfig(n))},config:function(n){if(g)return n&&s(n)&&(x("beforeConfig",!1,n),null==r||r.setConfig(l(n))),null==r?void 0:r.getConfig()},provide:function(n,e){m(w,n)?b("cannot provide "+n+", reserved"):(R[n]=e,x("provide",!1,n))},start:function(){var n=this;g&&(y||null==r||r.onReady((function(){y=!0,x("start",!0),S.forEach((function(e){return n.build(e)})),S.length=0})))},report:function(n){if(n){var e=E(p.beforeReport)(n);if(e){var r=E(p.report)(e);r&&(y?this.build(r):S.push(r))}}},build:function(n){if(y){var e=E(p.beforeBuild)(n);if(e){var r=t.build(e);if(r){var i=E(p.build)(r);i&&this.send(i)}}}},send:function(n){if(y){var r=E(p.beforeSend)(n);r&&(e.send(r),x("send",!1,r))}},destroy:function(){C.clear(),_=!0,S.length=0,x("beforeDestroy",!0)},on:function(n,e){if("init"===n&&g||"start"===n&&y||"beforeDestroy"===n&&_)try{e()}catch(r){}else p[n]&&p[n].push(e)},off:function(n,e){p[n]&&(p[n]=h(p[n],e))},destroyAgent:C};return w=Object.keys(R),R;function x(n,e){void 0===e&&(e=!1);for(var r=[],t=2;t<arguments.length;t++)r[t-2]=arguments[t];p[n].forEach((function(n){try{n.apply(void 0,a([],u(r),!1))}catch(e){}})),e&&(p[n].length=0)}}var x=function(n){var e=function(){var n={},e={},r={set:function(t,i){return n[t]=i,e[t]=y(i),r},merge:function(t){return n=o(o({},n),t),Object.keys(t).forEach((function(n){e[n]=y(t[n])})),r},delete:function(t){return delete n[t],delete e[t],r},clear:function(){return n={},e={},r},get:function(n){return e[n]},toString:function(){return o({},e)}};return r}();n.provide("context",e),n.on("report",(function(n){return n.extra||(n.extra={}),n.extra.context=e.toString(),n}))};var I=function(){return Date.now()};var D=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar}(function(){if("object"==typeof window&&s(window))return window}());r&&(r.errors||(r.errors=[]),r.errors.push(n))},j="custom",A=function(n){n.provide("sendEvent",(function(e){var r=function(n){if(n&&s(n)&&n.name&&g(n.name)){var e={name:n.name,type:"event"};if("metrics"in n&&s(n.metrics)){var r=n.metrics,t={};for(var i in r)p(r[i])&&(t[i]=r[i]);e.metrics=t}if("categories"in n&&s(n.categories)){var o=n.categories,u={};for(var i in o)u[i]=y(o[i]);e.categories=u}return e}}(e);r&&n.report({ev_type:j,payload:r,extra:{timestamp:I()}})})),n.provide("sendLog",(function(e){var r=function(n){if(n&&s(n)&&n.content&&g(n.content)){var e={content:y(n.content),type:"log",level:"info"};if("level"in n&&(e.level=n.level),"extra"in n&&s(n.extra)){var r=n.extra,t={},i={};for(var o in r)p(r[o])?t[o]=r[o]:i[o]=y(r[o]);e.metrics=t,e.categories=i}return e}}(e);r&&n.report({ev_type:j,payload:r,extra:{timestamp:I()}})}))},O=function(n,e){var r=n.common||{};return r.sample_rate=e,n.common=r,n},T=function(n,e,r,t,i){return n?(o=i(t,e),function(){return o}):function(){return r(e)};var o},k=function(n,e,r,t){var i=function(n,e,r){for(var t,i=u(e.split(".")),o=i[0],a=i.slice(1);n&&a.length>0;)n=n[o],o=(t=u(a))[0],a=t.slice(1);if(n)return r(n,o)}(n,e,(function(n,e){return n[e]}));return void 0!==i&&function(n,e,r){switch(r){case"eq":return m(e,n);case"neq":return!m(e,n);case"gt":return n>e[0];case"gte":return n>=e[0];case"lt":return n<e[0];case"lte":return n<=e[0];case"regex":return Boolean(n.match(new RegExp(e.join("|"))));case"not_regex":return!n.match(new RegExp(e.join("|")));default:return!1}}(i,function(n,e){return n.map((function(n){switch(e){case"number":return Number(n);case"boolean":return"1"===n;default:return String(n)}}))}(t,"boolean"==typeof i?"bool":p(i)?"number":"string"),r)},B=function(n,e){try{return"rule"===e.type?k(n,e.field,e.op,e.values):"and"===e.type?e.children.every((function(e){return B(n,e)})):e.children.some((function(e){return B(n,e)}))}catch(r){return D(r),!1}},N=function(n,e,r,t,i){if(!e)return l;var o=e.sample_rate,u=e.include_users,a=e.sample_granularity,f=e.rules,c=e.r,s=void 0===c?Math.random():c;if(m(u,n))return function(n){return O(n,1)};var v="session"===a,d=T(v,o,r,s,t),p=function(n,e,r,t,i,o){var u={};return Object.keys(n).forEach((function(a){var f=n[a],c=f.enable,l=f.sample_rate,s=f.conditional_sample_rules;c?(u[a]={enable:c,sample_rate:l,effectiveSampleRate:l*r,hit:T(e,l,t,i,o)},s&&(u[a].conditional_hit_rules=s.map((function(n){var u=n.sample_rate,a=n.filter;return{sample_rate:u,hit:T(e,u,t,i,o),effectiveSampleRate:u*r,filter:a}})))):u[a]={enable:c,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),u}(f,v,o,r,s,t);return function(n){var e;if(!d())return v&&i[0](),!1;if(!(n.ev_type in p))return O(n,o);if(!p[n.ev_type].enable)return v&&i[1](n.ev_type),!1;if(null===(e=n.common)||void 0===e?void 0:e.sample_rate)return n;var r=p[n.ev_type],t=r.conditional_hit_rules;if(t)for(var u=0;u<t.length;u++)if(B(n,t[u].filter))return!!t[u].hit()&&O(n,t[u].effectiveSampleRate);return r.hit()?O(n,r.effectiveSampleRate):((!t||!t.length)&&v&&i[1](n.ev_type),!1)}},z={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:o(o({},n.extra||{}),n.overrides||{})}}},L=function(n){var e,r=n,t={},i=c,u=c;return{getConfig:function(){return r},setConfig:function(a){var f;return t=o(o({},t),a||{}),(f=o(o({},n),t)).sample=M(n.sample,t.sample),r=f,u(),e||(e=a,i()),r},onChange:function(n){u=n},onReady:function(n){i=n,e&&i()}}};function M(n,e){if(!n||!e)return n||e;var r=o(o({},n),e);return r.include_users=a(a([],u(n.include_users||[]),!1),u(e.include_users||[]),!1),r.rules=a(a([],u(Object.keys(n.rules||{})),!1),u(Object.keys(e.rules||{})),!1).reduce((function(r,t){var i,f;return t in r||(t in(n.rules||{})&&t in(e.rules||{})?(r[t]=o(o({},n.rules[t]),e.rules[t]),r[t].conditional_sample_rules=a(a([],u(n.rules[t].conditional_sample_rules||[]),!1),u(e.rules[t].conditional_sample_rules||[]),!1)):r[t]=(null===(i=n.rules)||void 0===i?void 0:i[t])||(null===(f=e.rules)||void 0===f?void 0:f[t])),r}),{}),r}var G="mon-va.byteoversea.com",Y=G,q="1.4.5",F="SDK_BASE",J="/monitor_web/settings/browser-settings",P="/monitor_browser/collect/batch/",W={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function K(n){return o({},n)}function Q(n){return s(n)&&"bid"in n&&"transport"in n}function H(n){return o({},n)}var U=function(n,e){var r={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:e.version||q,sdk_name:e.name||F};return o(o({},n),{extra:o(o({},r),n.extra||{})})},V=function(n){n.on("report",(function(e){return U(e,n.config())}))},X=function(n,e){var r={};return r.bid=e.bid,r.pid=e.pid,r.view_id=e.viewId,r.user_id=e.userId,r.device_id=e.deviceId,r.session_id=e.sessionId,r.release=e.release,r.env=e.env,o(o({},n),{extra:o(o({},r),n.extra||{})})},Z=function(n){n.on("beforeBuild",(function(e){return X(e,n.config())}))};function $(n){return function(n){var e,o=n.transport,u=n.endpoint,a=n.size,f=void 0===a?r:a,c=n.wait,l=void 0===c?t:c,s=[],v=0;function d(){if(s.length){var n=this.getBatchData();o.post({url:u,data:n,fail:function(r){e&&e(r,n)}}),s=[]}}return{getSize:function(){return f},getWait:function(){return l},setSize:function(n){f=n},setWait:function(n){l=n},getEndpoint:function(){return u},setEndpoint:function(n){u=n},send:function(n){s.push(n),s.length>=f&&d.call(this),clearTimeout(v),v=setTimeout(d.bind(this),l)},flush:function(){clearTimeout(v),d.call(this)},getBatchData:function(){return s.length?i(s):""},clear:function(){clearTimeout(v),s=[]},fail:function(n){e=n}}}(n)}var nn=function(n,e){return void 0===e&&(e=P),(n&&n.indexOf("//")>=0?"":"https://")+n+e},en=function(){return C()},rn=function(){return C()},tn=function(n){return n+"_"+Date.now()},on=function(){return C()},un=function(n){return{bid:"",pid:"",viewId:tn("_"),userId:en(),deviceId:rn(),sessionId:on(),domain:G,release:"",env:"production",sample:W,plugins:{},transport:{get:c,post:c}}},an=function(n){var e=void 0===n?{}:n,r=e.createSender,t=void 0===r?function(n){return $({size:20,endpoint:nn(n.domain),transport:n.transport})}:r,i=e.builder,o=void 0===i?z:i,u=e.createDefaultConfig,a=R({validateInitConfig:Q,initConfigNormalizer:K,userConfigNormalizer:H,createSender:t,builder:o,createDefaultConfig:void 0===u?un:u,createConfigManager:L});return x(a),Z(a),V(a),function(n,e){n.on("init",(function(){var r=[],t=function(t){t.forEach((function(t){var i=t.name;m(r,i)||(r.push(i),t.setup(n),e&&e(i,t.setup),n.destroyAgent.set(i,i,[function(){r=h(r,i),t.tearDown&&t.tearDown()}]))}))};n.provide("applyIntegrations",t);var i=n.config();i&&i.integrations&&t(i.integrations)}))}(a),a},fn=function(n){void 0===n&&(n={});var e=an(n);return function(n){n.on("start",(function(){var e=n.config(),r=e.userId,t=e.sample,i=N(r,t,S,w,[function(){n.destroy()},function(e){n.destroyAgent.removeByEvType(e)}]);n.on("build",i)}))}(e),A(e),e},cn=fn();e.Ay=cn},58311:(n,e)=>{var r=10,t=1e3,i=function(n){return JSON.stringify({ev_type:"batch",list:n})};var o=function(){return o=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},o.apply(this,arguments)};function u(n,e){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var t,i,o=r.call(n),u=[];try{for(;(void 0===e||e-- >0)&&!(t=o.next()).done;)u.push(t.value)}catch(_){i={error:_}}finally{try{t&&!t.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return u}function a(n,e,r){if(r||2===arguments.length)for(var t,i=0,o=e.length;i<o;i++)!t&&i in e||(t||(t=Array.prototype.slice.call(e,0,i)),t[i]=e[i]);return n.concat(t||Array.prototype.slice.call(e))}var f=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],c=function(){return{}};function l(n){return n}function s(n){return"object"==typeof n&&null!==n}var v=Object.prototype;function d(n){return"[object Array]"===v.toString.call(n)}function p(n){return"number"==typeof n}function g(n){return"string"==typeof n}function m(n,e){if(!d(n))return!1;if(0===n.length)return!1;for(var r=0;r<n.length;){if(n[r]===e)return!0;r++}return!1}var h=function(n,e){if(!d(n))return n;var r=n.indexOf(e);if(r>=0){var t=n.slice();return t.splice(r,1),t}return n};function y(n){try{return g(n)?n:JSON.stringify(n)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var _=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e]},b=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e]},S=function(n){return Math.random()<Number(n)},w=function(n,e){return n<Number(e)},E=function(n){return function(e){for(var r=e,t=0;t<n.length&&r;t++)try{r=n[t](r)}catch(i){_(i)}return r}};function C(){var n=function(){for(var n=new Array(16),e=0,r=0;r<16;r++)3&r||(e=4294967296*Math.random()),n[r]=e>>>((3&r)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);var t=0,i=e;return[i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],"-",i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]],i[n[t++]]].join("")}(n)}function R(n){var e,r,t=n.builder,i=n.createSender,o=n.createDefaultConfig,c=n.createConfigManager,l=n.userConfigNormalizer,v=n.initConfigNormalizer,d=n.validateInitConfig,p={};f.forEach((function(n){return p[n]=[]}));var g=!1,y=!1,_=!1,S=[],w=[],C=function(){var n=!1,e={},r=function(n){n.length&&n.forEach((function(n){try{n()}catch(e){}})),n.length=0},t=function(n){e[n]&&e[n].forEach((function(n){r(n[1])})),e[n]=void 0};return{set:function(t,i,o){e[t]?e[t].push([i,o]):e[t]=[[i,o]],n&&r(o)},has:function(n){return!!e[n]},remove:t,removeByEvType:function(n){Object.keys(e).forEach((function(t){e[t]&&e[t].forEach((function(e){e[0]===n&&r(e[1])}))}))},clear:function(){n=!0,Object.keys(e).forEach((function(n){t(n)}))}}}(),R={getBuilder:function(){return t},getSender:function(){return e},getPreStartQueue:function(){return S},init:function(n){if(g)b("already inited");else{if(!(n&&s(n)&&d(n)))throw new Error("invalid InitConfig, init failed");var t=o(n);if(!t)throw new Error("defaultConfig missing");var u=v(n);if((r=c(t)).setConfig(u),r.onChange((function(){x("config")})),!(e=i(r.getConfig())))throw new Error("sender missing");g=!0,x("init",!0)}},set:function(n){g&&n&&s(n)&&(x("beforeConfig",!1,n),null==r||r.setConfig(n))},config:function(n){if(g)return n&&s(n)&&(x("beforeConfig",!1,n),null==r||r.setConfig(l(n))),null==r?void 0:r.getConfig()},provide:function(n,e){m(w,n)?b("cannot provide "+n+", reserved"):(R[n]=e,x("provide",!1,n))},start:function(){var n=this;g&&(y||null==r||r.onReady((function(){y=!0,x("start",!0),S.forEach((function(e){return n.build(e)})),S.length=0})))},report:function(n){if(n){var e=E(p.beforeReport)(n);if(e){var r=E(p.report)(e);r&&(y?this.build(r):S.push(r))}}},build:function(n){if(y){var e=E(p.beforeBuild)(n);if(e){var r=t.build(e);if(r){var i=E(p.build)(r);i&&this.send(i)}}}},send:function(n){if(y){var r=E(p.beforeSend)(n);r&&(e.send(r),x("send",!1,r))}},destroy:function(){C.clear(),_=!0,S.length=0,x("beforeDestroy",!0)},on:function(n,e){if("init"===n&&g||"start"===n&&y||"beforeDestroy"===n&&_)try{e()}catch(r){}else p[n]&&p[n].push(e)},off:function(n,e){p[n]&&(p[n]=h(p[n],e))},destroyAgent:C};return w=Object.keys(R),R;function x(n,e){void 0===e&&(e=!1);for(var r=[],t=2;t<arguments.length;t++)r[t-2]=arguments[t];p[n].forEach((function(n){try{n.apply(void 0,a([],u(r),!1))}catch(e){}})),e&&(p[n].length=0)}}var x=function(n){var e=function(){var n={},e={},r={set:function(t,i){return n[t]=i,e[t]=y(i),r},merge:function(t){return n=o(o({},n),t),Object.keys(t).forEach((function(n){e[n]=y(t[n])})),r},delete:function(t){return delete n[t],delete e[t],r},clear:function(){return n={},e={},r},get:function(n){return e[n]},toString:function(){return o({},e)}};return r}();n.provide("context",e),n.on("report",(function(n){return n.extra||(n.extra={}),n.extra.context=e.toString(),n}))};var I=function(){return Date.now()};var D=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar}(function(){if("object"==typeof window&&s(window))return window}());r&&(r.errors||(r.errors=[]),r.errors.push(n))},j="custom",A=function(n){n.provide("sendEvent",(function(e){var r=function(n){if(n&&s(n)&&n.name&&g(n.name)){var e={name:n.name,type:"event"};if("metrics"in n&&s(n.metrics)){var r=n.metrics,t={};for(var i in r)p(r[i])&&(t[i]=r[i]);e.metrics=t}if("categories"in n&&s(n.categories)){var o=n.categories,u={};for(var i in o)u[i]=y(o[i]);e.categories=u}return e}}(e);r&&n.report({ev_type:j,payload:r,extra:{timestamp:I()}})})),n.provide("sendLog",(function(e){var r=function(n){if(n&&s(n)&&n.content&&g(n.content)){var e={content:y(n.content),type:"log",level:"info"};if("level"in n&&(e.level=n.level),"extra"in n&&s(n.extra)){var r=n.extra,t={},i={};for(var o in r)p(r[o])?t[o]=r[o]:i[o]=y(r[o]);e.metrics=t,e.categories=i}return e}}(e);r&&n.report({ev_type:j,payload:r,extra:{timestamp:I()}})}))},O=function(n,e){var r=n.common||{};return r.sample_rate=e,n.common=r,n},T=function(n,e,r,t,i){return n?(o=i(t,e),function(){return o}):function(){return r(e)};var o},k=function(n,e,r,t){var i=function(n,e,r){for(var t,i=u(e.split(".")),o=i[0],a=i.slice(1);n&&a.length>0;)n=n[o],o=(t=u(a))[0],a=t.slice(1);if(n)return r(n,o)}(n,e,(function(n,e){return n[e]}));return void 0!==i&&function(n,e,r){switch(r){case"eq":return m(e,n);case"neq":return!m(e,n);case"gt":return n>e[0];case"gte":return n>=e[0];case"lt":return n<e[0];case"lte":return n<=e[0];case"regex":return Boolean(n.match(new RegExp(e.join("|"))));case"not_regex":return!n.match(new RegExp(e.join("|")));default:return!1}}(i,function(n,e){return n.map((function(n){switch(e){case"number":return Number(n);case"boolean":return"1"===n;default:return String(n)}}))}(t,"boolean"==typeof i?"bool":p(i)?"number":"string"),r)},B=function(n,e){try{return"rule"===e.type?k(n,e.field,e.op,e.values):"and"===e.type?e.children.every((function(e){return B(n,e)})):e.children.some((function(e){return B(n,e)}))}catch(r){return D(r),!1}},N=function(n,e,r,t,i){if(!e)return l;var o=e.sample_rate,u=e.include_users,a=e.sample_granularity,f=e.rules,c=e.r,s=void 0===c?Math.random():c;if(m(u,n))return function(n){return O(n,1)};var v="session"===a,d=T(v,o,r,s,t),p=function(n,e,r,t,i,o){var u={};return Object.keys(n).forEach((function(a){var f=n[a],c=f.enable,l=f.sample_rate,s=f.conditional_sample_rules;c?(u[a]={enable:c,sample_rate:l,effectiveSampleRate:l*r,hit:T(e,l,t,i,o)},s&&(u[a].conditional_hit_rules=s.map((function(n){var u=n.sample_rate,a=n.filter;return{sample_rate:u,hit:T(e,u,t,i,o),effectiveSampleRate:u*r,filter:a}})))):u[a]={enable:c,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),u}(f,v,o,r,s,t);return function(n){var e;if(!d())return v&&i[0](),!1;if(!(n.ev_type in p))return O(n,o);if(!p[n.ev_type].enable)return v&&i[1](n.ev_type),!1;if(null===(e=n.common)||void 0===e?void 0:e.sample_rate)return n;var r=p[n.ev_type],t=r.conditional_hit_rules;if(t)for(var u=0;u<t.length;u++)if(B(n,t[u].filter))return!!t[u].hit()&&O(n,t[u].effectiveSampleRate);return r.hit()?O(n,r.effectiveSampleRate):((!t||!t.length)&&v&&i[1](n.ev_type),!1)}},z={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:o(o({},n.extra||{}),n.overrides||{})}}},L=function(n){var e,r=n,t={},i=c,u=c;return{getConfig:function(){return r},setConfig:function(a){var f;return t=o(o({},t),a||{}),(f=o(o({},n),t)).sample=M(n.sample,t.sample),r=f,u(),e||(e=a,i()),r},onChange:function(n){u=n},onReady:function(n){i=n,e&&i()}}};function M(n,e){if(!n||!e)return n||e;var r=o(o({},n),e);return r.include_users=a(a([],u(n.include_users||[]),!1),u(e.include_users||[]),!1),r.rules=a(a([],u(Object.keys(n.rules||{})),!1),u(Object.keys(e.rules||{})),!1).reduce((function(r,t){var i,f;return t in r||(t in(n.rules||{})&&t in(e.rules||{})?(r[t]=o(o({},n.rules[t]),e.rules[t]),r[t].conditional_sample_rules=a(a([],u(n.rules[t].conditional_sample_rules||[]),!1),u(e.rules[t].conditional_sample_rules||[]),!1)):r[t]=(null===(i=n.rules)||void 0===i?void 0:i[t])||(null===(f=e.rules)||void 0===f?void 0:f[t])),r}),{}),r}var G="mon-va.byteoversea.com",Y=G,q="1.4.5",F="SDK_BASE",J="/monitor_web/settings/browser-settings",P="/monitor_browser/collect/batch/",W={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function K(n){return o({},n)}function Q(n){return s(n)&&"bid"in n&&"transport"in n}function H(n){return o({},n)}var U=function(n,e){var r={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:e.version||q,sdk_name:e.name||F};return o(o({},n),{extra:o(o({},r),n.extra||{})})},V=function(n){n.on("report",(function(e){return U(e,n.config())}))},X=function(n,e){var r={};return r.bid=e.bid,r.pid=e.pid,r.view_id=e.viewId,r.user_id=e.userId,r.device_id=e.deviceId,r.session_id=e.sessionId,r.release=e.release,r.env=e.env,o(o({},n),{extra:o(o({},r),n.extra||{})})},Z=function(n){n.on("beforeBuild",(function(e){return X(e,n.config())}))};function $(n){return function(n){var e,o=n.transport,u=n.endpoint,a=n.size,f=void 0===a?r:a,c=n.wait,l=void 0===c?t:c,s=[],v=0;function d(){if(s.length){var n=this.getBatchData();o.post({url:u,data:n,fail:function(r){e&&e(r,n)}}),s=[]}}return{getSize:function(){return f},getWait:function(){return l},setSize:function(n){f=n},setWait:function(n){l=n},getEndpoint:function(){return u},setEndpoint:function(n){u=n},send:function(n){s.push(n),s.length>=f&&d.call(this),clearTimeout(v),v=setTimeout(d.bind(this),l)},flush:function(){clearTimeout(v),d.call(this)},getBatchData:function(){return s.length?i(s):""},clear:function(){clearTimeout(v),s=[]},fail:function(n){e=n}}}(n)}var nn=function(n,e){return void 0===e&&(e=P),(n&&n.indexOf("//")>=0?"":"https://")+n+e},en=function(){return C()},rn=function(){return C()},tn=function(n){return n+"_"+Date.now()},on=function(){return C()},un=function(n){return{bid:"",pid:"",viewId:tn("_"),userId:en(),deviceId:rn(),sessionId:on(),domain:G,release:"",env:"production",sample:W,plugins:{},transport:{get:c,post:c}}},an=function(n){var e=void 0===n?{}:n,r=e.createSender,t=void 0===r?function(n){return $({size:20,endpoint:nn(n.domain),transport:n.transport})}:r,i=e.builder,o=void 0===i?z:i,u=e.createDefaultConfig,a=R({validateInitConfig:Q,initConfigNormalizer:K,userConfigNormalizer:H,createSender:t,builder:o,createDefaultConfig:void 0===u?un:u,createConfigManager:L});return x(a),Z(a),V(a),function(n,e){n.on("init",(function(){var r=[],t=function(t){t.forEach((function(t){var i=t.name;m(r,i)||(r.push(i),t.setup(n),e&&e(i,t.setup),n.destroyAgent.set(i,i,[function(){r=h(r,i),t.tearDown&&t.tearDown()}]))}))};n.provide("applyIntegrations",t);var i=n.config();i&&i.integrations&&t(i.integrations)}))}(a),a},fn=function(n){void 0===n&&(n={});var e=an(n);return function(n){n.on("start",(function(){var e=n.config(),r=e.userId,t=e.sample,i=N(r,t,S,w,[function(){n.destroy()},function(e){n.destroyAgent.removeByEvType(e)}]);n.on("build",i)}))}(e),A(e),e},cn=fn();e.Ay=cn}}]);